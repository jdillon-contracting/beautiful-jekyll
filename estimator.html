---
layout: page
title: Project Estimator
permalink: /estimator.html
use-site-title: true
---

<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<script>
  var open_window = null;
  function setDateToday()
  {
    var dateControl = document.querySelector('input[type="date"]');
    var today = new Date();
    var month = today.getMonth()+1;
    var day = today.getDate();
    
    var date = today.getFullYear()+'-'
    if(month < 10){ 
      month = ('0' + month);
    }
    if(day < 10){
      day = ('0'+ day);
    }
    date += (month + '-' + day)
    dateControl.value = date;
    recalculateFenceBid();
  }
  function setJobType(type_in)
  {
    var fence_div = document.getElementById("div_fence");
    var repair_div = document.getElementById("div_repair");
    var siding_div = document.getElementById("div_siding");
    var radio_fence = document.getElementById("fence_radio");
    var radio_siding = document.getElementById("siding_radio");
    var decks_radio = document.getElementById("decks_radio");
    if(type_in == 'fence'){
      radio_siding.checked = false;
      decks_radio.checked = false;
      fence_div.style.display= "inline";
      repair_div.style.display = "none"; 
      siding_div.style.display = "none"; 
    } else if(type_in == 'siding'){
      radio_fence.checked = false;
      decks_radio.checked = false;
      fence_div.style.display = "none"; 
      repair_div.style.display = "none"; 
      siding_div.style.display= "inline";
    } else if(type_in === 'deck'){
      radio_siding.checked = false;
      radio_fence.checked = false;
      fence_div.style.display = "none";
      repair_div.style.display = "inline";
      siding_div.style.display = "none"; 
    }
  }
  function toggleFenceCaps()
  {
    var fenceCaps = document.getElementById("fpostcaps");
    fpostcaps.checked = !fpostcaps.checked;
    recalculateFenceBid();
  }
  function setFenceType(fence_type)
  {
    var fence_standard = document.getElementById("fstandard_radio");
    var fence_custom = document.getElementById("fcustom_radio");
    if(fence_type == 'c'){
      fence_standard.checked = false;
      fence_custom.checked = true;
    } else{
      fence_custom.checked = false;
      fence_standard.checked = true;
    }
    recalculateFenceBid();
  }
  function toggleCustomRailing()
  {
    var custom_rail_cb = document.getElementById("dcustomrail");
    custom_rail_cb.checked = !custom_rail_cb.checked;
    recalculateDeckBid();
  }
  function setDeckType(handrail_type)
  {
    
  }
  function recalculateDeckBid()
  {
    var dwidth = document.getElementById("deckwidth");
    var dlength = document.getElementById("decklength");
    var dlinearrail = document.getElementById("dlinearrail");
    var dsquareft = document.getElementById("dsqfootage");
    var custom_rail = document.getElementById("dcustomrail"); 
    var estimate_box = document.getElementById("deck_estimate");
    var square_footage = dlength.value * dwidth.value;
    dsquareft.value = square_footage;
    var deck_estimate = square_footage * 28;
    if(custom_rail.checked){
     deck_estimate += dlinearrail.value * 18;
    }
    estimate_box.box = '$' + deck_estimate;
  }
  function recalculateFenceBid()
  {
    var fence_standard = document.getElementById("fstandard_radio");
    var fence_feet = document.getElementById("flinear");
    var fence_custom = document.getElementById("fcustom_radio");
    var postcaps = document.getElementById("fpostcaps");
    var fence_estimate = document.getElementById("fence_estimate");
    var estimate_output = document.getElementById("estimate_output");
    estimate_output.innerHTML = "<b>Bid Estimate</b> for a " + fence_feet.value + " foot long ";
    var fence_bid = fence_feet.value;
    if(fence_custom.checked){
      fence_bid = (fence_bid * 22.50);
      estimate_output.innerHTML += "custom fence ";
    } else{
      fence_bid = (fence_bid * 16.50);
      estimate_output.innerHTML += "standard fence ";
    }
    if(fpostcaps.checked){
      var sections = (fence_feet.value / 8);
      estimate_output.innerHTML += "with post caps ";
      if((sections % 1) >0){
        sections -= (sections %1);
        sections += 1;
      }
      fence_bid += ( sections * 9);
    }
    fence_estimate.value = '$' + fence_bid;
    var send_estimate = document.getElementById("send_estimate");
    send_estimate.value = '$' + fence_bid;
    
  }  
  function sendEmailEstimate()
  {
    var contact_div = document.getElementById("contact_div");
    var estimator_center = document.getElementById("estimator_center");
    if(contact_div.style.display == "none"){
      contact_div.style.display = "inline";
      var edit_btn = document.getElementById("edit_btn");
      edit_btn.style.display = "inline";
      estimator_center.style.display = "none";
    } else if(checkContactInformationForm()){
      
      var fname = document.getElementById("fname");
      var lname = document.getElementById("lname");
      var location = document.getElementById("jlocation");
      var phone = document.getElementById("phone");
      var radio_fence = document.getElementById("fence_radio");
      var radio_siding = document.getElementById("siding_radio");
      var decks_radio = document.getElementById("decks_radio");
      var jlocation = document.getElementById("jlocation");
      var job_type = "";
      var estimate = document.getElementById("send_estimate");
      var estimate_amount = estimate.value;
      var estimate_output = document.getElementById("estimate_output");
      if(radio_fence.checked){
        job_type = "%20fence job!";
      } else
      if(radio_siding.checked){
        job_type = "%20siding job!";
      } else 
      if(decks_radio.checked){
        job_type = "%20deck job!";
      }
      var loc = jlocation.value;
      loc.replace(' ', '%20');
      
      var estimate_o = estimate_output.innerHTML;
      estimate_o = estimate_o.slice(26);
      estimate_o.replace(' ', '%20');
      var body_var = 'Job%20Location:%20' + loc + '%0D%0A' + 'Job%20Details:%20'+estimate_o + '%0D%0A' +
          "Client%20Should%20add%20more%20details%20and%20attach%20photos%20below:" + '%0D%0A' + '%0D%0A' + '%0D%0A'+ '%0D%0A';
      body_var += "-Contact%20Details-" + '%0D%0A';
      body_var += "Client%20Name:%20"+ fname.value + "%20" + lname.value + '%0D%0A';
      body_var += "Phone%20Number:%20" + phone.value + '%0D%0A';
      var dateControl = document.querySelector('input[type="date"]');
      body_var += "Ideal%20Start%20Date:%20" + dateControl.value + '%0D%0A' + '%0D%0A' + '%0D%0A'+ '%0D%0A';
      var subject_var = fname.value + '%20is%20requesting%20an%20estimate%20for%20a%20' +  estimate_amount + job_type;
      open_window = window.open('mailto:jessedillonscontracting@hotmail.com?subject='+subject_var+'&body='+body_var);
      setTimeout(function(){if(open_window !== null){open_window.close();} }, 1200);
    }
  }

  function checkContactInformationForm()
  {
      var fname = document.getElementById("fname");
      var lname = document.getElementById("lname");
      var location = document.getElementById("jlocation");
      var phone = document.getElementById("phone");
      var ready_to_send = true;
      if(phone.value.length == 0){
        phone.style = "background-color:red;";
        ready_to_send = false;
      }
      if(fname.value.length == 0){
        fname.style = "background-color:red;";
        ready_to_send = false;
      }
      if(lname.value.length == 0){
        lname.style = "background-color:red;";
        ready_to_send = false;
      }
      if(location.value.length == 0){
        location.style = "background-color:red;";
        ready_to_send = false;
      }
      return ready_to_send; 
  }
  function updateFirstName()
  {  
    var fname = document.getElementById("fname");
    if(fname.value.length > 0){
      fname.style = "background-color:white";
    }
  }
  function updateLastName()
  {  
    var lname = document.getElementById("lname");
    if(lname.value.length > 0){
      lname.style = "background-color:white";
    }
  }
  function updatePhone()
  {  
    var phone = document.getElementById("phone");
    if(phone.value.length > 0){
      phone.style = "background-color:white";
    }
  }
  function updateLocation()
  {  
    var location = document.getElementById("jlocation");
    if(location.value.length > 0){
      location.style = "background-color:white";
    }
  }
  function backToEstimator()
  {
    var contact_div = document.getElementById("contact_div");
    var estimator_center = document.getElementById("estimator_center");
    var edit_btn = document.getElementById("edit_btn");
    contact_div.style.display = "none";
    edit_btn.style.display = "none";
    estimator_center.style.display = "inline";
  }
</script>
  <body onload="setDateToday();" >
  <div id="estimator_center">
  <div class="w3-container w3-green">
    <h2>Job Type</h2>
  </div>
  <h3><b> 
  <input type="radio" id="decks_radio" value="deck" onclick='setJobType("deck")' checked>Decks
  &nbsp;&nbsp;<input type="radio" id="fence_radio" value="fence" onclick='setJobType("fence")'> Fences
  &nbsp;&nbsp;<input type="radio" id="siding_radio" value="siding" onclick='setJobType("siding")'> Siding
  </b></h3>
      <div  id="div_repair" style="display: inline;" >
        <input type="number" class="w3-input w3-border w3-round" min="4" id="deckwidth" value="6" onchange="recalculateDeckBid();">
        <label><b>Width of Deck</b></label>
        <input type="number" class="w3-input w3-border w3-round" min="4" id="decklength" value="10" onchange="recalculateDeckBid();">
        <label><b>Length of Deck</b></label>
        <b>Square Footage of Deck</b>  ($28 per sq ft includes basic railing):<input style="background-color:DimGrey;color:white;" type="text" id="dsqfootage" value="$0.00" readonly><br>
        <input type="number" class="w3-input w3-border w3-round" min="4" id="dlinearrail" value="10" onchange="recalculateDeckBid();">
        <label><b>Linear Footage of Railing</b></label>
       <p><h3>Options</h3>
        <img src="https://github.com/jdillon-contracting/jdillon-contracting.github.io/blob/master/img/fence_board_caps.png?raw=true" alt="Custom Handrail" height="58" width="203" onclick='toggleCustomRailing();'>&nbsp;<input type="checkbox" id="dcustomrail" onchange="recalculateDeckBid();"> +$18 per linear foot of handrail</b></p>
        <hr>
        <b>Deck Estimate:</b> <input style="background-color:DimGrey;color:white;" type="text" id="deck_estimate" value="$0.00" readonly><br>
      </div>
      <div  id="div_fence" style="display: none;" >
        <p><img src="https://github.com/jdillon-contracting/jdillon-contracting.github.io/blob/master/img/Dog-Ear-Fence.jpg?raw=true" alt="Standard Fence" height="63" width="100" onclick='setFenceType("s");' >&nbsp;<input type="radio" id="fstandard_radio" name="fstandard" value="standard" onclick='setFenceType("s");' checked> Standard (Dog Eared) <b>$16.50 per foot</b><br>
        <img src="https://github.com/jdillon-contracting/jdillon-contracting.github.io/blob/master/img/Custom-Fence.png?raw=true" alt="Custom Fence" height="64" width="164" onclick='setFenceType("c");' >&nbsp;<input type="radio" id="fcustom_radio" name="fcustom" value="custom" onclick='setFenceType("c")'> Custom Pattern <b>$22.50 per foot</b></p>
        <input type="number" class="w3-input w3-border w3-round" min="1" id="flinear" value="45" onchange="recalculateFenceBid();">
        <label><b>Linear Footage (How long in feet)</b></label>
        <p><h3>Options</h3>
        <img src="https://github.com/jdillon-contracting/jdillon-contracting.github.io/blob/master/img/fence_board_caps.png?raw=true" alt="Fence Post Caps" height="58" width="203" onclick='toggleFenceCaps();'>&nbsp;<input type="checkbox" id="fpostcaps" onchange="recalculateFenceBid();"> Fence Caps (8 foot sections) <b>$9 per cap</b></p>
        <hr>
        <b>Fence Estimate:</b> <input style="background-color:DimGrey;color:white;" type="text" id="fence_estimate" value="$0.00" readonly><br>
      </div>
      <div  id="div_siding" style="display: none;" >
        <input type="button" value="Testing Dev siding">    
      </div>
    </br>
    </div>
    <div id="contact_div" style="display: none;" >
      <div class="w3-container w3-orange">
        <h1>Contact Information </h1>
      </div>
      <input type="text" id="fname" onchange="updateFirstName();"><br>
      <label>First Name</label><br>
      <input type="text" id="lname" onchange="updateLastName();"><br>
      <label>Last Name</label><br>
      <input type="tel" id="phone" onchange="updatePhone();"
           pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"
           required>&nbsp;&nbsp;Format:123-456-7890<br>
      <label><b>Phone Number</b></label><br>
      <input type="text" id="jlocation" onchange="updateLocation();"><br><label> Job Location</label><br>        
      <input type="date" id="startDate" name="trip-start"
           value="2019-04-25" min="2019-04-25" max="2020-12-31"><br>
      <label>Ideal Start Date</label><br>
      <div id="estimate_output">
      </div>
      <input style="background-color:DimGrey;color:white;" type="text" id="send_estimate" value="$0.00" readonly><br>
    </div>
    <p><button id="edit_btn" type="button" class="w3-btn w3-padding w3-green" style="width:160x;display:none;" onclick="backToEstimator();">< &nbsp; Edit Estimate &nbsp;</button>
    <button type="button" class="w3-btn w3-padding w3-teal" style="width:120px" onclick="sendEmailEstimate();">Send &nbsp; ❯</button>
    </p>
</body>
